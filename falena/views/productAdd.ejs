<!DOCTYPE html>
<html lang="es">

<%- include('./partials/head'); %>

<body>
  <!-- importa header -->
  <%- include('./partials/header'); %>

  <!-- 
      CONTENIDO 
    -->

  <section class="container">
    <article class="row">
      <!-- COLUMNA 1 -->
      <div class="col-md-2"></div>
      <!-- COLUMNA 2 -->
      <div class="col-12 col-md-8">
        <h1>Cargar de productos</h1>
        <hr>
        <!-- FORMULARIO -->
        <form action="/product/save" method="POST" id="formAdd" enctype="multipart/form-data">
          <!-- CATEGORIAS -->
          <div class="form-group">
            <label for="category">Categorias</label>
            <select class="form-control" id="category" name="category">
              <% category.forEach(category => { %>
                <option value="<%= category.id %>"><%= category.name %></option>
              <% }) %>
            </select>
          </div>
          <!-- SECCION -->
          <div class="form-group">
            <label for="section">Seccion</label>
            <select class="form-control" id="section" name="section">
              <option value="masVendidos">MÃ¡s vendidos</option>
              <option value="ultimaVisita">ultima visitaa</option>
            </select>
          </div>
          <!-- TITULO -->
          <div class="form-group">
            <label for="name">Titulo</label>
            <input type="text" class="form-control" id="name" name="name" value="<%= (typeof old != 'undefined' && old.name)?old.name:'' %>" placeholder="Agregar un titulo">
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.name)?errors.name.msg: "" %></small>
            <span id="errorNombre" class="text-danger"></span>
          </div>
          <!-- AUTOR -->
          <div class="form-group">
            <label for="section">Autor</label>
            <select class="form-control" id="author_id" name="author_id" >
              <% authors.forEach(authors => { %>
                  <option value="<%= authors.id %>">
                      <%= authors.name %>
                  </option>  
              <% }) %>
            </select>
          </div>
          <!-- DESCRIPCION DEL PRODUCTO -->
          <div class="form-group">
            <label for="review">Descripcion Del producto</label>
            <textarea class="form-control" id="review" name="review" rows="3" placeholder="Agregar una Descripcion Del producto">
              <%= (typeof old != 'undefined' && old.review)?old.review:'' %>
            </textarea>
            <span id="errorDescripcion" class="text-danger"></span>
          </div>
          <small class="text-danger"><%= (typeof errors != 'undefined' && errors.review)?errors.review.msg: "" %></small>
          <!-- SUBIR IMAGENES -->
          <div class="form-group">
            <label for="file">Subir Imagenes</label>
            <input type="file" class="form-control-file" id="image" name="image">
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.image)?errors.image.msg: "" %></small> 
            <span id="errorimagen" class="text-danger"></span> 
          </div>
          <!-- PRECIO -->
          <div class="form-group">
            <label for="prece">Precio</label>
            <input type="text" class="form-control" id="price" name="price" value="<%= (typeof old != 'undefined' && old.price)?old.price:'' %>" placeholder="Agregar Precio">
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.price)?errors.price.msg: "" %></small>
            <span id="errorPrecio" class="text-danger"></span>
          </div>
          <!-- DESCUENTO -->
          <div class="form-group">
            <label for="discoun">Descuento</label>
            <input type="text" class="form-control" id="discount" name="discount" value="<%= (typeof old != 'undefined' && old.discount)?old.discount:'' %>" placeholder="Agregar Descuento">
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.discount)?errors.discount.msg: "" %></small>
            <span id="errorDescuento" class="text-danger"></span>
          </div>
          <!-- rating -->
          <div class="form-group">
            <label for="rating">rating</label>
            <input type="text" class="form-control" id="rating" name="rating" value="<%= (typeof old != 'undefined' && old.rating)?old.rating:'' %>" placeholder="Agregar rating">
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.rating)?errors.rating.msg: "" %></small>
            <span id="errorRating" class="text-danger"></span>
          </div>            
          <!-- Boton Enviar -->
          <button type="submit" class="btn btn-primary btn-lg btn-block" id="#saveButton_products">Guardar</button>
          <span id="msgError" class="text-danger"></span>
          <button type="reset" class="btn btn-secondary btn-lg btn-block ">Borrar Formulario</button>
          <br>
          <br>
        </form>
        <!-- FIN FORMULARIO -->
      </div>
      <!-- COLUMNA 3 -->
      <div class="col-md-2"></div>
      <!-- FIN ROW -->
    </article>
    <!-- FIN CONTAINER -->
  </section>

  <!-- 
      FIN DEL CONTENIDO 
    -->

  <!-- importa footer -->
  <%- include('./partials/footer') %>
  
</body>

</html>